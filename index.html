<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<style type="text/css">
html {
        height: 100%;
}

body  {
        height: 100%;
        border-left: 0.5cm solid #ddd;
        margin: 0;
        margin-left: 5%;
        padding: 0;
        color: #d00;
        background-color: black;
        overflow: hidden;
}

textarea    {
        border: none;
        outline: none;
        margin: 0 3%;
        font-size: 0.5cm;
        line-height: 0.7cm;
        font-family: monospace;
        font-weight: bold;
        color: #def;
        height: 100%;
        width: 92%;
        z-index: -1;
        overflow-y: scroll;
        background-color: transparent;
}

textarea:focus {
        border: none;
        outline: none;
}

#comms  {
        position: fixed;
        bottom: -0.5cm;
        right: 5%;
        padding-right: 3%;
        padding-bottom: 0.5cm;
        font-size: 0.4cm;
        text-align: right;
        font-family: monospace;
        background-color: #004;
        color: #4f4;
        width: 87%;
        z-index: -3;
        line-height: 0.6cm;
}

#gradient  {
        position: fixed;
        width: 100%;
        height: 100%;
        bottom: 0;
        right: 0;
        background: linear-gradient(black, transparent);
        z-index: -2;
}

</style>
<script>
        var serversocket = new WebSocket("ws://192.168.0.2:8080/ws");
        var last_sent = '';
        var last_message = '?';
 
        serversocket.onopen = senddata;

        // Write message on receive
        serversocket.onmessage = function(e) {
            if (e.data != last_message) {
                last_message = e.data
                var new_data = document.getElementById('comms').innerHTML + e.data + "\n";
                if (new_data.length > 5000) {
                    new_data = new_data.substr(new_data.length-5000);
                }
                document.getElementById('comms').innerHTML = new_data;
            }
        };

        serversocket.onclose = function(e) {
            document.getElementById('comms').innerHTML += "Disconnected<br>";
        };
 
        function senddata() {
            var data = document.getElementById('sendtext').value;
            if (data != last_sent) {
                serversocket.send(data);
                last_sent = data;
            }
        }
 
</script>
</head>
 
<body>
        <textarea id="sendtext" onkeyup="senddata()">
8 6Hz divisions
nip (age)
from
    (1) A Lead E↓ Lead A Bass,
    (2) ,
    (3) A' Lead E Lead,
    (4) ,
    (5) B Lead,
    (6) G↓ Lead E Bass,
    (7) ,
    (8) D Lead
choose

(imports) ::
          scale     (defines: A Bb B C Db D Eb E F Gb G Ab)
          divisions
;

(instruments: freq -- SOUND)

:Bass
    low low sin.
;

:Lead
    tr.
;

        </textarea>
        <pre id="comms">









































































<u>FLOATBEAT v1.1</u>
</pre>
        <div id="gradient"></div>
</body>
</html>
