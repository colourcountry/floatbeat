<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<style type="text/css">
html {
        height: 100%;
}
body  {
        height: 100%;
        padding: 0.1cm;
        margin: 0;
        background-color: black;
        color: #0d0;
}

textarea    {
        border: none;
        padding: 0.5cm;
        font-size: 0.5cm;
        line-height: 0.7cm;
        font-family: monospace;
        font-weight: bold;
        background-color: #001;
        color: #def;
        height: 100%;
        width: 100%;
}

#comms  {
        position: fixed;
        bottom: 1cm;
        right: 1cm;
        font-size: 0.3cm;
        text-align: right;
        font-family: monospace;
        color: #4F4;
}

</style>
<script>
        var serversocket = new WebSocket("ws://192.168.0.2:8080/ws");
        var last_sent = '';
        var last_message = '?';
 
        serversocket.onopen = senddata;

        // Write message on receive
        serversocket.onmessage = function(e) {
            if (e.data != last_message) {
                last_message = e.data
                document.getElementById('comms').innerHTML += e.data + "<br>";
            }
        };

        serversocket.onclose = function(e) {
            document.getElementById('comms').innerHTML += "Disconnected<br>";
        };
 
        function senddata() {
            var data = document.getElementById('sendtext').value;
            if (data != last_sent) {
                serversocket.send(data);
                last_sent = data;
            }
        }
 
</script>
</head>
 
<body>
        <textarea id="sendtext" onkeyup="senddata()">
8 6Hz divisions
nip (age)
from
    (1) A Lead E↓ Lead A Bass,
    (2) ,
    (3) A' Lead E Lead,
    (4) ,
    (5) B Lead,
    (6) G↓ Lead E Bass,
    (7) ,
    (8) D Lead
choose

(imports) ::
          scale     (defines: A Bb B C Db D Eb E F Gb G Ab)
          divisions
;

(instruments) 

:Bass (freq -- SOUND)
    low low sin.
;

:Lead (freq -- SOUND)
    tr.
;

        </textarea>
        <div id="comms">FLOATBEAT v1.0<br></div>
</body>
</html>
